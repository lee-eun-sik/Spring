<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head> 
    <meta charset="UTF-8">
    <title>회원정보</title>
    <script>
        $(document).ready(function(){
            ajaxRequest(
                '[[${apiBaseUrl}]]/api/user/view.do',
                {},
                function(response){
                    if(response.success){
                        const user = response.data;
                        $('#userId').text(user.userId);
                        $('#username').text(user.username);
                        $('#email').text(user.email);
                        } else {
                            alert("로그인이 필요합니다.");
                            window.location.href = '/user/login.do'; 

                        }
                    }
              );
          });
        </script>
</head>
<body>
    <div layout:fragment="content">
        <h2>회원정보</h2>
        <label for="userId">아이디:</label>
        <span id="userId"></span>
        <br/>
        <label for="username">이름:</label>
        <span id="username"></span>
        <br/>
        <label for="email">이메일:</label>
        <span id="email"></span>
        <br/>
        <a href="/">메인 페이지로 이동</a>
    </div>
</body>
</html>